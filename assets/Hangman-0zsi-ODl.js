import{_ as d,o as a,c as o,a as i,t as x,d as u,r as v,b as _,e as w,F as p,f,n as A,p as g,g as k}from"./index-3Fmcc95f.js";const C={props:["params"],data(){return{text:this.params.text}},methods:{confirm(){this.$emit("confirm",!0)}}},b={class:"bg"},T={class:"content"};function y(t,s,r,l,h,n){return a(),o("div",b,[i("div",T,[i("p",null,x(h.text),1),i("button",{onClick:s[0]||(s[0]=(...c)=>n.confirm&&n.confirm(...c))},"확인")])])}const P=d(C,[["render",y],["__scopeId","data-v-d76cc9fd"]]),$=u({name:"Hanman",components:{CAlert:P},props:{},data(){this.getDate();const t=["apple","banana","Orange","Grape","Strawberry","Mango","Pineapple","Watermelon","cherry","kiwi"],s=Math.floor(Math.random()*t.length),r=t[s].toUpperCase(),l=Array.from(r,()=>""),h=Array.from({length:26},(n,c)=>String.fromCharCode(65+c)).map(n=>({letter:n,isPass:void 0}));return{incorrectAttempts:0,answer:r,answerTemp:l,alphabet:h,ctx:{},params:{text:"정답입니다."},isAlert:!1,canvas:{}}},mounted(){this.canvas=this.$refs.hangmanCanvas,this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.ctx.moveTo(20,0),this.ctx.lineTo(20,200),this.ctx.stroke())},methods:{async getDate(){const t=await fetch("https://main--taupe-beijinho-5f10a6.netlify.app/.netlify/functions/rand-word",{method:"get"}).then(s=>s.json());console.log(t),t.success===!0&&(this.answer=t.data.toUpperCase(),this.answerTemp=Array.from(this.answer,()=>""))},drawHangman(){this.incorrectAttempts>=1&&(this.ctx.moveTo(20,0),this.ctx.lineTo(150,0),this.ctx.stroke()),this.incorrectAttempts>=2&&(this.ctx.moveTo(100,0),this.ctx.lineTo(100,20),this.ctx.stroke()),this.incorrectAttempts>=3&&(this.ctx.beginPath(),this.ctx.arc(100,40,20,0,2*Math.PI),this.ctx.stroke(),this.ctx.fillStyle="black",this.ctx.fill()),this.incorrectAttempts>=4&&(this.ctx.moveTo(100,60),this.ctx.lineTo(100,120),this.ctx.stroke()),this.incorrectAttempts>=5&&(this.ctx.moveTo(100,70),this.ctx.lineTo(60,90),this.ctx.stroke()),this.incorrectAttempts>=6&&(this.ctx.moveTo(100,70),this.ctx.lineTo(140,90),this.ctx.stroke()),this.incorrectAttempts>=7&&(this.ctx.moveTo(100,120),this.ctx.lineTo(70,160),this.ctx.stroke()),this.incorrectAttempts>=8&&(this.ctx.moveTo(100,120),this.ctx.lineTo(130,160),this.ctx.stroke())},checkAnswer(t){if([...this.answer].filter((s,r)=>{t.letter.toLowerCase()===s.toLowerCase()&&(t.isPass=!0,this.answerTemp[r]=s)}),!t.isPass){t.isPass=!1,this.incorrectAttempts++,this.drawHangman(),this.incorrectAttempts===8&&(this.params.text="실패했습니다.",this.isAlert=!0);return}this.answerTemp.join("")===this.answer&&(this.params.text="정답입니다.",this.isAlert=!0)},resetCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.moveTo(20,0),this.ctx.lineTo(20,200),this.ctx.stroke(),this.incorrectAttempts=0},resetAlphabet(){for(const t of this.alphabet)t.isPass=void 0},confirm(t){this.isAlert=!t,this.resetCanvas(),this.resetAlphabet(),this.getDate()}}}),I=t=>(g("data-v-aa8eca72"),t=t(),k(),t),S={class:"mt-10"},D={class:"mx-auto",ref:"hangmanCanvas",width:"150",height:"200"},B=I(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"3"},[i("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:"black","stroke-width":"3"})],-1)),H={class:"input-box mb-8 mt-5"},M=["value"],j={class:"letter-box"},L=["disabled","onClick"];function F(t,s,r,l,h,n){const c=v("CAlert");return a(),o(p,null,[t.isAlert?(a(),_(c,{key:0,params:t.params,onConfirm:t.confirm},null,8,["params","onConfirm"])):w("",!0),i("section",S,[i("canvas",D,null,512),B,i("div",H,[(a(!0),o(p,null,f(t.answerTemp,(e,m)=>(a(),o("input",{type:"text",class:"answer-input",disabled:"",value:e,key:m},null,8,M))),128))]),i("div",j,[(a(!0),o(p,null,f(t.alphabet,e=>(a(),o("button",{key:e.letter,class:A([{fail:e.isPass===!1},{pass:e.isPass}]),disabled:e.isPass===!1||e.isPass,onClick:m=>t.checkAnswer(e)},x(e.letter),11,L))),128))])])],64)}const U=d($,[["render",F],["__scopeId","data-v-aa8eca72"]]);export{U as default};
